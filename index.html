<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#ffffff">
    <title>Vishal Insights | Ultimate Academic Lock</title>

    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">

    <style>
        /* ===== VARIABLES ===== */
        :root {
            --bg-main: #f8fafc;
            --bg-card: #ffffff;
            --text-main: #0f172a;
            --text-sub: #64748b;
            --accent-primary: #2563eb;
            --accent-alert: #ef4444;
            --accent-success: #22c55e;
            --hpbose-blue: #1e3a8a;
            --wa-green: #25D366;
            --border-soft: rgba(15, 23, 42, 0.08);
            --shadow-card: 0 10px 30px -5px rgba(0, 0, 0, 0.05);
            --shadow-hover: 0 20px 50px -10px rgba(37, 99, 235, 0.15);
            --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg-main); color: var(--text-main); overflow-x: hidden; height: 100vh; }
        body.locked { overflow: hidden; }

        /* ===== 1. LOGO LAYER ===== */
        #logo-container {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(1.5);
            z-index: 10000; width: 80px; height: 80px; border-radius: 20px;
            box-shadow: 0 20px 50px rgba(37, 99, 235, 0.3);
            transition: all 1.2s var(--ease-out-expo);
        }
        /* Animation 1: logo-glide-corner */
        body.app-active #logo-container {
            top: 20px; left: 24px; transform: translate(0, 0) scale(1);
            width: 45px; height: 45px; border-radius: 12px; box-shadow: var(--shadow-card);
        }

        /* ===== 2. LOCK & KEY ANIMATION LAYER ===== */
        #lock-screen {
            position: fixed; inset: 0; background: #ffffff; z-index: 9998;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.8s ease;
        }
        
        .lock-svg-container { position: relative; width: 120px; height: 160px; }
        
        #lock-body { fill: #0f172a; rx: 12; width: 80px; height: 60px; x: 20; y: 80; }
        #lock-shackle { fill: none; stroke: #0f172a; stroke-width: 12; stroke-linecap: round; }
        /* Animation 2: lock-shackle-drop */
        .shackle-open { d: path("M 35 80 V 40 A 25 25 0 0 1 85 40 V 60"); } /* Initially open and pulled up slightly */
        .shackle-closed { d: path("M 35 80 V 40 A 25 25 0 0 1 85 40 V 80"); transition: all 0.3s var(--ease-spring); }
        
        #key-svg { position: absolute; top: 80px; right: -80px; width: 60px; fill: #f59e0b; opacity: 0; }
        
        /* Animation 3 & 4: key-slide-in & key-rotate-turn */
        @keyframes key-action {
            0% { right: -80px; opacity: 0; transform: rotate(0deg); }
            30% { right: -10px; opacity: 1; transform: rotate(0deg); } /* Slide in */
            60% { right: -10px; opacity: 1; transform: rotate(90deg); } /* Turn */
            100% { right: -10px; opacity: 0; transform: rotate(90deg); } /* Fade out */
        }
        .anim-key { animation: key-action 1.5s forwards; }
        
        /* Animation 5 & 6: lock-snap-bounce & lock-success-glow */
        @keyframes lock-snap {
            0% { transform: scale(1); filter: drop-shadow(0 0 0 rgba(34, 197, 94, 0)); }
            50% { transform: scale(0.9); }
            100% { transform: scale(1.1); filter: drop-shadow(0 0 40px rgba(34, 197, 94, 0.8)); }
        }
        .anim-snap { animation: lock-snap 0.5s forwards; }

        /* Animation 7: lock-fade-up */
        .lock-fade-up { transform: translateY(-100px); opacity: 0; transition: all 1s var(--ease-out-expo); }

        .lock-status-text {
            margin-top: 30px; font-family: 'Space Grotesk', sans-serif; font-size: 24px; font-weight: 700;
            letter-spacing: 2px; text-transform: uppercase; color: #0f172a;
        }

        /* ===== 3. MAIN UI BACKGROUND (CANVAS) ===== */
        #bg-canvas { position: fixed; inset: 0; z-index: 1; pointer-events: none; opacity: 0.6; }

        /* ===== 4. MAIN APP LAYOUT ===== */
        #main-ui {
            padding: 80px 20px 120px; max-width: 650px; margin: 0 auto;
            position: relative; z-index: 10; display: none;
        }

        /* Header */
        .header-sec { text-align: center; margin-bottom: 40px; }
        .live-clock { font-family: 'Space Grotesk', sans-serif; font-size: 56px; font-weight: 800; color: var(--text-main); letter-spacing: -2px; line-height: 1; }
        /* Animation 12: date-badge-drop */
        .date-badge { display: inline-block; background: #eff6ff; color: var(--accent-primary); padding: 8px 16px; border-radius: 20px; font-weight: 700; font-size: 14px; margin-bottom: 15px; animation: slide-down 1s var(--ease-spring) backwards; }
        
        /* Animation 22: gradient-text-pan */
        .strict-lock-text {
            background: linear-gradient(90deg, var(--accent-alert), #ff9999, var(--accent-alert));
            background-size: 200% auto; color: transparent; -webkit-background-clip: text;
            font-weight: 800; font-size: 16px; margin-top: 10px; animation: shine 3s linear infinite;
        }

        /* Cards Shared */
        .card {
            background: var(--bg-card); border: 1px solid var(--border-soft); border-radius: 24px;
            padding: 28px; margin-bottom: 24px; position: relative; overflow: hidden;
            /* Animation 26: shadow-spread-3d */
            box-shadow: var(--shadow-card); transition: all 0.4s var(--ease-out-expo);
        }
        .card:hover { transform: translateY(-5px); box-shadow: var(--shadow-hover); border-color: rgba(37, 99, 235, 0.3); }

        /* Animation 18: border-beam-trace */
        .card::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 50%; height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent-primary), transparent);
            transition: 0.5s;
        }
        .card:hover::before { left: 100%; transition: 1s linear; }

        /* Notice Card */
        /* Animation 19: notice-icon-spin */
        .notice-icon { width: 24px; height: 24px; stroke: var(--accent-primary); animation: spin-intro 1s var(--ease-out-expo); }
        .notice-header { display: flex; align-items: center; gap: 10px; font-weight: 800; font-size: 18px; margin-bottom: 15px; border-bottom: 1px solid var(--border-soft); padding-bottom: 15px; }
        .typing-content { font-size: 16px; line-height: 1.7; color: var(--text-sub); }

        /* Countdown Grid */
        .cd-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-top: 25px; }
        /* Animation 23: countdown-flip */
        .cd-box { background: var(--bg-main); padding: 15px 5px; border-radius: 16px; text-align: center; border: 1px solid var(--border-soft); transition: transform 0.3s; }
        .cd-box:hover { transform: scale(1.05); }
        .cd-num { display: block; font-family: 'Space Grotesk', sans-serif; font-size: 28px; font-weight: 800; color: var(--text-main); }
        .cd-label { font-size: 11px; font-weight: 700; color: var(--text-sub); text-transform: uppercase; letter-spacing: 1px; }

        /* Datesheet Table */
        .table-wrap { overflow: hidden; border-radius: 16px; border: 1px solid var(--border-soft); }
        table { width: 100%; border-collapse: collapse; text-align: left; }
        th { background: #f8fafc; padding: 16px; font-size: 12px; font-weight: 800; color: var(--text-sub); text-transform: uppercase; letter-spacing: 1px; }
        td { padding: 18px 16px; border-bottom: 1px solid var(--border-soft); font-size: 15px; font-weight: 600; }
        /* Animation 10: row-cascade-in */
        .row-anim { opacity: 0; transform: translateX(-20px); }
        
        /* Animation 16: subject-tag-bounce */
        .tag { padding: 6px 12px; border-radius: 8px; font-size: 13px; font-weight: 800; display: inline-block; transition: 0.3s var(--ease-spring); cursor: default; }
        .tag:hover { transform: translateY(-3px) scale(1.05); }
        .tag-eng { background: #fee2e2; color: #dc2626; }
        .tag-core { background: #dbeafe; color: #2563eb; }
        .tag-opt { background: #fef3c7; color: #d97706; }

        /* Tools Grid */
        .tools-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 15px; }
        .tool-btn { 
            background: var(--bg-main); border: 1px solid var(--border-soft); padding: 20px; 
            border-radius: 16px; text-decoration: none; color: var(--text-main); font-weight: 700;
            display: flex; flex-direction: column; gap: 10px; align-items: flex-start;
            transition: all 0.3s var(--ease-out-expo); position: relative; overflow: hidden;
        }
        .tool-btn:hover { border-color: var(--accent-primary); background: #ffffff; box-shadow: 0 10px 20px rgba(37,99,235,0.05); transform: translateY(-2px); }
        /* Animation 20: tool-icon-wiggle */
        .tool-btn:hover svg { animation: wiggle 0.5s ease-in-out; }
        .progress-bar { width: 100%; height: 8px; background: #e2e8f0; border-radius: 10px; overflow: hidden; }
        /* Animation 21: progress-bar-fill */
        .progress-fill { height: 100%; background: var(--accent-primary); width: 0%; transition: width 1.5s var(--ease-out-expo) 1s; }

        /* ===== 5. FLOATING PILL BUTTONS (Expanded) ===== */
        .fab-container { position: fixed; right: 24px; bottom: 30px; display: flex; flex-direction: column; gap: 16px; z-index: 1000; }
        
        .fab-pill {
            display: flex; align-items: center; gap: 12px; padding: 12px 20px 12px 12px;
            border-radius: 50px; text-decoration: none; color: white; font-weight: 700; font-size: 14px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15); transition: all 0.4s var(--ease-spring);
            /* Animation 11: fab-slide-in-right */
            opacity: 0; transform: translateX(50px);
        }
        /* Animation 15: fab-expand-hover */
        .fab-pill:hover { transform: scale(1.05) translateY(-5px) !important; box-shadow: 0 15px 35px rgba(0,0,0,0.25); }
        
        .fab-hp { background: var(--hpbose-blue); }
        .fab-wa { background: var(--wa-green); }
        
        .fab-icon-box { width: 36px; height: 36px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .fab-pill svg { width: 20px; height: 20px; fill: #fff; }
        /* Animation 24 & 25 */
        .fab-hp:hover svg { transform: translateX(3px); transition: 0.3s; }
        .fab-wa:hover svg { animation: tail-wag 0.5s infinite alternate; }

        /* Animation 28: pulse-ring-continuous */
        .fab-hp::after, .fab-wa::after {
            content: ''; position: absolute; inset: 0; border-radius: 50px; z-index: -1;
            border: 2px solid inherit; animation: radar-ring 2s infinite; opacity: 0;
        }
        .fab-wa::after { border-color: var(--wa-green); }
        .fab-hp::after { border-color: var(--hpbose-blue); }

        /* Signature */
        .signature-block { text-align: center; color: var(--text-sub); font-size: 11px; margin-top: 50px; font-weight: 800; text-transform: uppercase; letter-spacing: 3px; opacity: 0; }

        /* ===== CSS KEYFRAMES LIST ===== */
        @keyframes slide-down { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes shine { to { background-position: 200% center; } }
        @keyframes spin-intro { from { transform: rotate(-180deg) scale(0); opacity: 0; } to { transform: rotate(0) scale(1); opacity: 1; } }
        @keyframes wiggle { 0%, 100% { transform: rotate(0deg); } 25% { transform: rotate(-10deg); } 75% { transform: rotate(10deg); } }
        @keyframes tail-wag { to { transform: rotate(15deg); } }
        @keyframes radar-ring { 0% { transform: scale(1); opacity: 0.6; } 100% { transform: scale(1.3); opacity: 0; } }
        /* Animation 8: text-reveal-mask */
        @keyframes mask-up { from { transform: translateY(100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .mask-text { display: inline-block; overflow: hidden; vertical-align: bottom; }
        .mask-text span { display: inline-block; animation: mask-up 0.8s var(--ease-out-expo) forwards; }
        /* Animation 17: clock-tick-pop applied in JS */
        .tick-pop { animation: pop 0.2s; }
        @keyframes pop { 50% { transform: scale(1.05); color: var(--accent-primary); } }
        
        .ripple { position: absolute; border-radius: 50%; transform: scale(0); animation: ripple-anim 0.6s linear; background: rgba(0,0,0,0.05); pointer-events: none; }
        @keyframes ripple-anim { to { transform: scale(4); opacity: 0; } }
    </style>
</head>
<body class="locked" onload="bootSystem()">

    <img src="https://lh3.googleusercontent.com/pw/AP1GczP1FxDyqLI0EVbXpZEhgt9c9LvyJMaTUX4jySqgZ9FUGW0Zzzu8h4yf1y2XpVsmFGpOMMDgNbDF5MtnNfHQbh51Hq1V7kJLmQIJGnxFyi2ospz1ufeepCbpJ_63zAllNYgjQmOZxVhYwuQ9JVlZET86=w865-h900-s-no-gm" id="logo-container" alt="Vishal Insights">

    <div id="lock-screen">
        <div class="lock-svg-container">
            <svg viewBox="0 0 120 160" style="width:100%; height:100%;">
                <path id="lock-shackle" class="shackle-open" />
                <rect id="lock-body" />
                <circle cx="60" cy="100" r="8" fill="#fff"/>
                <path d="M 57 105 L 63 105 L 63 120 L 57 120 Z" fill="#fff"/>
            </svg>
            <svg id="key-svg" viewBox="0 0 100 40">
                <circle cx="20" cy="20" r="15" fill="none" stroke="#f59e0b" stroke-width="6"/>
                <rect x="35" y="17" width="50" height="6" />
                <rect x="65" y="23" width="6" height="10" />
                <rect x="75" y="23" width="6" height="15" />
            </svg>
        </div>
        <div class="lock-status-text" id="lock-status">Securing System...</div>
    </div>

    <canvas id="bg-canvas"></canvas>
    
    <main id="main-ui">
        
        <div class="header-sec">
            <div class="date-badge" id="live-date">-- -- 2026</div>
            <div class="live-clock mask-text"><span id="live-clock">00:00:00</span></div>
            <div class="strict-lock-text">‚óè STRICT ACADEMIC LOCK ACTIVE</div>
        </div>

        <div class="card ui-card" style="opacity:0; transform:translateY(30px);">
            <div class="notice-header">
                <svg class="notice-icon" viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                <span>Vishal Surya's Update</span>
            </div>
            <div class="typing-content" id="typing-text">
                üì¢ <b>Bhai, March aa gaya hai.</b><br><br>Ab timepass ka time khatam. 5 March ko English ka pehla paper hai. Games aur social media ab band.<br><br>Padhai pe focus kar, ye lockdown 28 March tak rahega. Mehnat kar aur top kar!
            </div>
            
            <div class="cd-grid">
                <div class="cd-box"><span class="cd-num" id="cd-d">00</span><span class="cd-label">Days</span></div>
                <div class="cd-box"><span class="cd-num" id="cd-h">00</span><span class="cd-label">Hours</span></div>
                <div class="cd-box"><span class="cd-num" id="cd-m">00</span><span class="cd-label">Mins</span></div>
                <div class="cd-box"><span class="cd-num" id="cd-s" style="color:var(--accent-alert);">00</span><span class="cd-label">Secs</span></div>
            </div>
        </div>

        <div class="card ui-card" style="opacity:0; transform:translateY(30px);">
            <div class="notice-header" style="color: var(--hpbose-blue);">
                <svg class="notice-icon" viewBox="0 0 24 24" fill="none" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                Class 11th Schedule (March '26)
            </div>
            <div class="table-wrap">
                <table>
                    <thead><tr><th>Date</th><th>Subject</th></tr></thead>
                    <tbody id="table-body">
                        <tr class="row-anim"><td>5 March</td><td><span class="tag tag-eng">English</span></td></tr>
                        <tr class="row-anim"><td>9 March</td><td><span class="tag tag-core">Physics</span></td></tr>
                        <tr class="row-anim"><td>19 March</td><td><span class="tag tag-core">Chemistry</span></td></tr>
                        <tr class="row-anim"><td>24 March</td><td><span class="tag tag-core">TELECOM</span></td></tr>
                        <tr class="row-anim"><td>27 March</td><td><span class="tag tag-opt">Maths</span></td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="card ui-card" style="opacity:0; transform:translateY(30px); background: #f8fafc; border: 1px dashed #cbd5e1;">
            <div style="font-weight: 800; font-size: 14px; margin-bottom: 15px;">Focus Dashbaord</div>
            <div class="tools-grid">
                <a href="#" class="tool-btn ripple-btn">
                    <svg viewBox="0 0 24 24" fill="none"><path d="M12 20v-8m0 0V4m0 8h8m-8 0H4" stroke-width="2" stroke-linecap="round"/></svg>
                    <span>Syllabus Target</span>
                    <div class="progress-bar"><div class="progress-fill" id="pb-fill"></div></div>
                </a>
                <a href="#" class="tool-btn ripple-btn" onclick="playFocusSound(event)">
                    <svg viewBox="0 0 24 24" fill="none"><path d="M9 18V5l12-2v13" stroke-width="2"/><circle cx="6" cy="18" r="3" stroke-width="2"/><circle cx="18" cy="16" r="3" stroke-width="2"/></svg>
                    <span id="audio-text">Ambience: OFF</span>
                    <span style="font-size: 10px; color: var(--text-sub); font-weight:600;">Tap to focus</span>
                </a>
            </div>
        </div>
        
        <div class="signature-block" id="sig">Engineered by Vishal Surya</div>
    </main>

    <div class="fab-container">
        <a href="https://hpbose.org" target="_blank" class="fab-pill fab-hp ripple-btn">
            <div class="fab-icon-box">
                <svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linejoin="round" fill="none"/></svg>
            </div>
            Official HPBOSE Board
        </a>
        <a href="https://wa.me/919805397956?text=Hello%20Vishal%20Surya,%20Mujhe%20Academic%20guidance%20chahiye." target="_blank" class="fab-pill fab-wa ripple-btn">
            <div class="fab-icon-box">
                <svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51a12.8 12.8 0 0 0-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 0 1-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 0 1-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 0 1 2.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0 0 12.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 0 0 5.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 0 0-3.48-8.413Z"/></svg>
            </div>
            Guidance with Vishal Surya
        </a>
    </div>

    <script>
        // Mechanical Snap Sound
        function playLockSound() {
            try {
                const ctx = new (window.AudioContext || window.webkitAudioContext)();
                const osc = ctx.createOscillator(); const gain = ctx.createGain();
                osc.connect(gain); gain.connect(ctx.destination);
                osc.type = 'sawtooth'; osc.frequency.setValueAtTime(400, ctx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(50, ctx.currentTime + 0.15);
                gain.gain.setValueAtTime(1, ctx.currentTime); gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.15);
                osc.start(); osc.stop(ctx.currentTime + 0.15);
            } catch(e) {}
        }

        // Boot Timeline
        function bootSystem() {
            // Setup Ripples
            document.querySelectorAll('.ripple-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    let rect = this.getBoundingClientRect(); let circle = document.createElement('span'); circle.classList.add('ripple');
                    circle.style.width = circle.style.height = Math.max(rect.width, rect.height) + 'px';
                    circle.style.left = e.clientX - rect.left - rect.width/2 + 'px'; circle.style.top = e.clientY - rect.top - rect.width/2 + 'px';
                    this.appendChild(circle); setTimeout(() => circle.remove(), 600);
                });
            });

            // 1. Splash & Move Logo
            setTimeout(() => {
                document.body.classList.add('app-active');
                
                // 2. Start Key Animation
                setTimeout(() => {
                    document.getElementById('key-svg').classList.add('anim-key');
                    
                    // 3. Close Shackle & Snap Lock
                    setTimeout(() => {
                        const shackle = document.getElementById('lock-shackle');
                        shackle.classList.remove('shackle-open'); shackle.classList.add('shackle-closed');
                        document.querySelector('.lock-svg-container').classList.add('anim-snap');
                        document.getElementById('lock-status').innerText = "LOCKED";
                        document.getElementById('lock-status').style.color = "var(--accent-success)";
                        playLockSound(); // üîä Sound

                        // 4. Fade Lock Up & Show UI
                        setTimeout(() => {
                            document.getElementById('lock-screen').classList.add('lock-fade-up');
                            document.getElementById('main-ui').style.display = 'block';
                            document.body.classList.remove('locked');
                            
                            initClockAndData();
                            initCanvas();
                            
                            // 5. Cascade Cards & Rows
                            setTimeout(() => {
                                const cards = document.querySelectorAll('.ui-card');
                                cards.forEach((c, i) => {
                                    setTimeout(() => {
                                        c.style.opacity = '1'; c.style.transform = 'translateY(0)';
                                        c.style.transition = 'all 0.8s cubic-bezier(0.16, 1, 0.3, 1)';
                                    }, i * 150);
                                });

                                // Stagger Table rows
                                const rows = document.querySelectorAll('.row-anim');
                                rows.forEach((r, i) => {
                                    setTimeout(() => {
                                        r.style.opacity = '1'; r.style.transform = 'translateX(0)';
                                        r.style.transition = 'all 0.5s cubic-bezier(0.16, 1, 0.3, 1)';
                                    }, 400 + (i * 100));
                                });

                                // Fill Progress Bar
                                document.getElementById('pb-fill').style.width = '65%';

                                // Slide in FABs
                                document.querySelectorAll('.fab-pill').forEach((f, i) => {
                                    setTimeout(() => {
                                        f.style.opacity = '1'; f.style.transform = 'translateX(0)';
                                    }, 800 + (i * 200));
                                });

                                // Show Signature
                                setTimeout(() => {
                                    document.getElementById('sig').style.opacity = '1';
                                    document.getElementById('sig').style.transition = 'opacity 1s';
                                }, 1500);

                            }, 100);
                            
                        }, 1000);
                    }, 800); // Wait for key turn
                }, 800);
            }, 2000); // Logo center duration
        }

        // Live Clock & Countdown
        function initClockAndData() {
            const examDate = new Date("2026-03-05T00:00:00");
            const clockEl = document.getElementById('live-clock');
            
            setInterval(() => {
                const now = new Date();
                clockEl.innerText = now.toLocaleTimeString('en-IN', { hour12: false });
                // Clock tick animation
                clockEl.classList.remove('tick-pop');
                void clockEl.offsetWidth; // trigger reflow
                clockEl.classList.add('tick-pop');

                document.getElementById('live-date').innerText = "Aaj ki date: " + now.toLocaleDateString('en-IN', { day: 'numeric', month: 'short', year: 'numeric' }).toUpperCase();

                const diff = examDate - now;
                if(diff > 0) {
                    document.getElementById('cd-d').innerText = String(Math.floor(diff / (1000 * 60 * 60 * 24))).padStart(2, '0');
                    document.getElementById('cd-h').innerText = String(Math.floor((diff / (1000 * 60 * 60)) % 24)).padStart(2, '0');
                    document.getElementById('cd-m').innerText = String(Math.floor((diff / 1000 / 60) % 60)).padStart(2, '0');
                    document.getElementById('cd-s').innerText = String(Math.floor((diff / 1000) % 60)).padStart(2, '0');
                }
            }, 1000);
        }

        // Ambience Toggle
        let focusAudio = false;
        function playFocusSound(e) {
            e.preventDefault(); focusAudio = !focusAudio;
            document.getElementById('audio-text').innerText = focusAudio ? "Ambience: ON" : "Ambience: OFF";
            document.getElementById('audio-text').style.color = focusAudio ? "var(--accent-success)" : "inherit";
        }

        // Background Math Canvas (Animation 14 & 27)
        function initCanvas() {
            const canvas = document.getElementById('bg-canvas'); const ctx = canvas.getContext('2d');
            let w, h, offset = 0; const symbols = ['‚àë', 'œÄ', 'x¬≤', 'Œî', '‚à´']; let particles = [];

            function resize() { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; }
            window.addEventListener('resize', resize); resize();

            for(let i=0; i<25; i++) {
                particles.push({ x: Math.random()*w, y: Math.random()*h, s: Math.random()*15+10, t: symbols[Math.floor(Math.random()*symbols.length)], sp: Math.random()*0.5+0.2 });
            }

            function draw() {
                ctx.clearRect(0,0,w,h); offset += 0.5;
                // Grid Pan
                ctx.strokeStyle = "rgba(100, 116, 139, 0.05)"; ctx.lineWidth = 1;
                for(let x = (offset%40); x < w; x += 40) { ctx.beginPath(); ctx.moveTo(x,0); ctx.lineTo(x,h); ctx.stroke(); }
                for(let y = (offset%40); y < h; y += 40) { ctx.beginPath(); ctx.moveTo(0,y); ctx.lineTo(w,y); ctx.stroke(); }
                // Particles
                particles.forEach(p => {
                    p.y -= p.sp; if(p.y < -20) p.y = h+20;
                    ctx.font = `600 ${p.s}px 'Space Grotesk'`;
                    // Particle Sparkle
                    let alpha = 0.05 + Math.abs(Math.sin(Date.now()*0.001 + p.x))*0.1;
                    ctx.fillStyle = `rgba(37, 99, 235, ${alpha})`;
                    ctx.fillText(p.t, p.x, p.y);
                });
                requestAnimationFrame(draw);
            }
            draw();
        }
    </script>
</body>
</html>
